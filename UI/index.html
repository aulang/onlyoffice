<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="keywords" content="office,onlyoffice,在线文档编辑">
    <meta name="description" content="在线文档编辑器">
    <title>在线文档编辑器</title>
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css"/>
</head>
<body>
<div class="container" id="index">
    <div class="mt-5">
        <div class="d-flex justify-content-between">
            <h4>文档列表</h4>

            <form enctype="multipart/form-data">
                <label class="btn btn-primary">打开文档
                    <input type="file" accept=".doc,.docx,.odt,.txt,.xls,.xlsx,.ods,.csv,.ppt,.pptx,.odp"
                           class="d-none" @change="open"/>
                </label>
            </form>
        </div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">文件名</th>
                <th scope="col">创建者</th>
                <th scope="col">创建时间</th>
                <th scope="col">修改时间</th>
                <th scope="col">状态</th>
                <th scope="col">操作</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="(doc,index) in content">
                <th scope="row" v-text="index + 1"></th>
                <td v-text="doc.name"></td>
                <td v-text="doc.ownerName"></td>
                <td v-text="doc.createTime"></td>
                <td v-text="doc.modifiedTime"></td>
                <td>
                    <span v-show="doc.status==='editing'">正在编辑</span>
                    <span v-show="doc.status==='saved'">保存成功</span>
                    <span v-show="doc.status==='error'">保存出错</span>
                </td>
                <td>
                    <a href="#" @click="edit(doc.id)">编辑</a>
                    <a href="#" @click="download(doc.id)">下载</a>
                    <a href="#" @click="del(doc.id,doc.name)">删除</a>
                </td>
            </tr>
            </tbody>
        </table>
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item" :class="{disabled: noPrevious}">
                    <a class="page-link" href="#" @click="goPage(page-1)">上一页</a>
                </li>

                <li class="page-item" v-for="index in totalPages">
                    <a class="page-link" href="#" @click="goPage(index - 1)" v-text="index"></a>
                </li>

                <li class="page-item" :class="{disabled: noNext}">
                    <a class="page-link" href="#" @click="goPage(page+1)">下一页</a>
                </li>
            </ul>
        </nav>
    </div>
</div>
<script src="http://cdn.jsdelivr.net/npm/axios@0.20.0/dist/axios.min.js"></script>
<script src="http://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
<script src="./js/index.js"></script>
</body>
</html>